# INSTALAR v2

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                                  â•‘
â•‘   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â•‘
â•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•â•šâ•â•â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•— â•‘
â•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â• â•‘
â•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â•šâ•â•â•â•â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•— â•‘
â•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘ â•‘
â•‘   â•šâ•â•â•šâ•â•  â•šâ•â•â•â•â•šâ•â•â•â•â•â•â•   â•šâ•â•   â•šâ•â•  â•šâ•â•â•šâ•â•â•â•â•â•â•â•šâ•â•  â•šâ•â•â•šâ•â•  â•šâ•â• â•‘
â•‘                                                                  â•‘
â•‘              Laravel + Filament Installation System v2.0         â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

[![Version](https://img.shields.io/badge/version-2.0.0-blue.svg)](CHANGELOG.md)
[![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)
[![Bash](https://img.shields.io/badge/bash-4.0%2B-yellow.svg)](https://www.gnu.org/software/bash/)

## Ãœberblick

**INSTALAR v2** ist ein modernes Bash-Skript fÃ¼r die automatisierte Erstellung von Laravel-Projekten mit einem vollstÃ¤ndigen, produktionsreifen Stack.

### Was macht INSTALAR v2?

- ğŸš€ **Schnelle Projekt-Erstellung** - Laravel mit einem Befehl aufsetzen
- ğŸ“¦ **Paket-Verwaltung** - 25+ Laravel-Pakete zur Auswahl
- ğŸ¨ **Interaktive TUI** - Einfache Auswahl mit Pfeiltasten
- ğŸ—„ï¸ **Flexible Datenbank** - SQLite, MySQL, PostgreSQL oder SQL Server
- ğŸ”§ **Automatische Konfiguration** - Datenbank-Setup, .env, Berechtigungen
- ğŸ§ª **Testing-Ready** - Mit Pest PHP vorkonfiguriert
- ğŸ“Š **Admin-Panel** - Filament 5.1 mit Admin-User
- ğŸ”„ **Git-Integration** - Automatische Repository-Initialisierung

## Features

### Kernfunktionen

| Feature | Beschreibung |
|---------|--------------|
| **Projekt-Setup** | Automatische Laravel-Projekt-Erstellung |
| **Datenbank** | SQLite (Standard), MySQL, PostgreSQL, SQL Server |
| **DB-Setup** | Automatische Datenbank-Erstellung (MySQL/PostgreSQL) |
| **Pakete** | Filament 5.1, Livewire 4.x, Pest 2.x, Laravel Boost |
| **Frontend** | Automatischer Build (npm install + build) |
| **Berechtigungen** | Korrekte storage/ und bootstrap/cache Rechte |
| **Optimierung** | Caching fÃ¼r Produktionsumgebung |

### VerfÃ¼gbare Pakete

#### Core (Standard)
- âœ… Filament 5.1 (Admin Panel)
- âœ… Livewire 4.x (Frontend)
- âœ… Pest 2.x (Testing)
- âœ… Laravel Boost
- âœ… Laravel Debugbar

#### Authentifizierung
- Laravel Fortify
- Laravel Sanctum
- Laravel Passport (OAuth2)
- Laravel Socialite
- Laravel Breeze / Jetstream

#### Spatie-Pakete
- Permission (Rollen/Rechte)
- Health Checks
- Backup
- Activity Log
- Settings
- Medialibrary
- CSP (Security)
- Honeypot (Bot Protection)

#### Weitere
- Laravel Scout + Meilisearch
- Laravel Horizon (Queues)
- Laravel Telescope (Debug)
- Maatwebsite Excel
- Sentry (Error Tracking)
- Laravel Pint (Formatter)
- Larastan (Static Analysis)
- IDE Helper

## Voraussetzungen

### Systemanforderungen

| Tool | Minimum | Empfohlen |
|------|---------|-----------|
| PHP | 8.1 | 8.4+ |
| Composer | 2.0 | 2.8+ |
| Node.js | 18 | 20+ |
| NPM | 9 | 10+ |
| Bash | 4.0 | 5.0+ |

### PHP-Extensions

**Erforderlich (alle Datenbanken):**
```
mbstring, xml, ctype, iconv, intl, pdo, tokenizer,
bcmath, json, fileinfo, pdo_sqlite, openssl, zip
```

**ZusÃ¤tzlich fÃ¼r externe Datenbanken:**
```
pdo_mysql    # FÃ¼r MySQL/MariaDB
pdo_pgsql    # FÃ¼r PostgreSQL
pdo_sqlsrv   # FÃ¼r SQL Server (benÃ¶tigt Microsoft-Treiber)
```

## Installation & Nutzung

### Schnellstart

```bash
# Repository klonen oder herunterladen
cd instalar/v2

# AusfÃ¼hrbar machen
chmod +x instalar.sh

# Skript starten
./instalar.sh
```

### Installationsmodi

#### Automatisch (Empfohlen)

Installiert alle empfohlenen Pakete mit Standard-Versionen:

```bash
./instalar.sh
# WÃ¤hle: 1) Automatisch
```

**Was wird installiert:**
- Laravel (latest stable)
- Filament 5.1
- Livewire 4.x
- Pest 2.x
- Laravel Boost
- SQLite Datenbank
- Git Repository

#### Manuell

Individuelle Paketauswahl und Konfiguration:

```bash
./instalar.sh
# WÃ¤hle: 2) Manuell
```

**KonfigurationsmÃ¶glichkeiten:**
- Laravel Version (stable/master)
- Individuelle Paketauswahl (25+ Pakete)
- Feature-Auswahl (Breeze/Jetstream/Redis/Horizon/Scout)
- **Datenbank-Auswahl** (SQLite/MySQL/PostgreSQL/SQL Server)
  - Bei externen DBs: Host, Port, Datenbankname, User, Passwort
  - Automatische Datenbank-Erstellung (MySQL/PostgreSQL)
- Git Setup (ja/nein)
- Admin-User Daten

### Datenbank-Konfiguration

INSTALAR v2.1 unterstÃ¼tzt jetzt mehrere Datenbanken:

| Datenbank | Modus | Auto-Erstellung | Verbindungstest |
|-----------|-------|-----------------|-----------------|
| **SQLite** | Automatisch & Manuell | âœ… Datei wird erstellt | N/A |
| **MySQL** | Manuell | âœ… Datenbank + User | âœ… Wenn Client verfÃ¼gbar |
| **PostgreSQL** | Manuell | âœ… Datenbank + User | âœ… Wenn Client verfÃ¼gbar |
| **SQL Server** | Manuell | âŒ Manuelle Erstellung nÃ¶tig | âš ï¸ Kein Test |

#### SQLite (Standard)
```bash
# Wird automatisch im Projekt-Verzeichnis erstellt
database/database.sqlite
```

#### MySQL / MariaDB
```bash
# Konfiguration im manuellen Modus:
Host: 127.0.0.1 (Standard)
Port: 3306 (Standard)
Datenbank: projektname
User: root
Passwort: [Eingabe]

# Automatisch erstellt wenn:
- mysql Client ist installiert
- Verbindung zu MySQL Server mÃ¶glich
- User hat CREATE DATABASE Rechte
```

#### PostgreSQL
```bash
# Konfiguration im manuellen Modus:
Host: 127.0.0.1 (Standard)
Port: 5432 (Standard)
Datenbank: projektname
User: postgres
Passwort: [Eingabe]

# Automatisch erstellt wenn:
- psql Client ist installiert
- Verbindung zu PostgreSQL Server mÃ¶glich
- User hat CREATE DATABASE Rechte
```

#### SQL Server
```bash
# Konfiguration im manuellen Modus:
Host: 127.0.0.1 (Standard)
Port: 1433 (Standard)
Datenbank: projektname
User: sa
Passwort: [Eingabe]

# Hinweis:
Datenbank muss manuell vor der Installation erstellt werden!
```

### Umgebungsvariablen

Admin-User Daten kÃ¶nnen vorab gesetzt werden:

```bash
ADMIN_NAME="Mein Name" \
ADMIN_EMAIL="admin@meinefirma.de" \
ADMIN_PASSWORD="sicheres-passwort" \
./instalar.sh
```

## Dateistruktur

```
v2/
â”œâ”€â”€ instalar.sh          # Hauptskript (alles in einer Datei)
â”œâ”€â”€ README.md            # Diese Datei
â””â”€â”€ CHANGELOG.md         # Ã„nderungsprotokoll
```

## Skript-Architektur

Das Skript ist in logische Abschnitte unterteilt:

1. **Konfiguration & Konstanten** - Alle Einstellungen, Exit-Codes, Versionen
2. **Paket-Definitionen** - Arrays mit allen verfÃ¼gbaren Paketen
3. **Farben & Ausgabe** - Farbcodes und formatierte Ausgabefunktionen
4. **Fehlerbehandlung** - Error-Handling, Logging, Validierung
5. **Benutzerinteraktion** - MenÃ¼s, TUI, Eingabevalidierung
6. **Systemvoraussetzungen** - PrÃ¼fung von PHP, Composer, Node.js, etc.
7. **Laravel-Installation** - Projekt-Erstellung mit Installer
8. **Paket-Installation** - Composer-Pakete, Features, Filament/Livewire
9. **Datenbank-Setup** - SQLite-Konfiguration, Migrationen
10. **Frontend & Git** - NPM-Build, Git-Initialisierung
11. **Abschluss** - Sanity-Report, Server-Start

## Bedienung

### TUI-Navigation

In den Mehrfachauswahllisten:

| Taste | Aktion |
|-------|--------|
| `â†‘` / `â†“` | Navigation |
| `Leertaste` | Auswahl umschalten |
| `a` | Alle auswÃ¤hlen |
| `0` | Alle abwÃ¤hlen |
| `Enter` | BestÃ¤tigen |

### Nach der Installation

Das erstellte Projekt enthÃ¤lt:

**Bei SQLite:**
```
mein-projekt/
â”œâ”€â”€ .env                  # Konfiguriert fÃ¼r SQLite
â”œâ”€â”€ .env.backup.*         # Backup der Original-.env (mit Zeitstempel)
â”œâ”€â”€ database/
â”‚   â””â”€â”€ database.sqlite   # SQLite Datenbank
â”œâ”€â”€ storage/              # Schreibbar (775)
â”œâ”€â”€ bootstrap/cache/      # Schreibbar (775)
â””â”€â”€ .git/                 # Git Repository (initialer Commit)
```

**Bei MySQL/PostgreSQL/SQL Server:**
```
mein-projekt/
â”œâ”€â”€ .env                  # Konfiguriert fÃ¼r externe DB
â”œâ”€â”€ .env.backup.*         # Backup der Original-.env (mit Zeitstempel)
â”œâ”€â”€ storage/              # Schreibbar (775)
â”œâ”€â”€ bootstrap/cache/      # Schreibbar (775)
â””â”€â”€ .git/                 # Git Repository (initialer Commit)
# Datenbank wurde automatisch (MySQL/PostgreSQL) oder manuell (SQL Server) erstellt
```

### Standard-Zugangsdaten

**Filament Admin-Panel:**
- URL: http://localhost:8000/admin
- Email: admin@example.com
- Passwort: password

âš ï¸ **Ã„ndern Sie diese Zugangsdaten nach der Installation!**

## Befehle nach der Installation

```bash
# In das Projektverzeichnis wechseln
cd mein-projekt

# Entwicklungsserver starten
composer run dev

# Nur Laravel-Server
php artisan serve

# Tests ausfÃ¼hren (falls Pest installiert)
./vendor/bin/pest

# Neue Filament-Resource erstellen
php artisan make:filament-resource UserResource

# Migration erstellen
php artisan make:migration create_posts_table
```

## Fehlerbehebung

### HÃ¤ufige Probleme

#### "Permission denied"
```bash
chmod +x instalar.sh
```

#### "PHP nicht gefunden"
PHP 8.1+ muss installiert sein. Alternativ Ã¼ber php.new:
```bash
/bin/bash -c "$(curl -fsSL https://php.new/install/linux/8.4)"
```

#### "Composer nicht gefunden"
```bash
# Composer installieren
curl -sS https://getcomposer.org/installer | php
sudo mv composer.phar /usr/local/bin/composer
```

### Log-Dateien

Bei Fehlern wird eine `installation_errors.log` erstellt:

```bash
# Logs anzeigen
cat installation_errors.log
```

## Verbesserungen in v2.0

### Code-QualitÃ¤t
- **Exit-Codes**: Standardisierte Konstanten fÃ¼r bessere Fehlerbehandlung
- **Bessere Kommentare**: Jeder Abschnitt hat einen DocBlock mit Beschreibung
- **Konstanten**: Farbcodes mit `COLOR_` PrÃ¤fix, `SCRIPT_VERSION`, etc.
- **Neue Hilfsfunktionen**: `command_exists()`, `append_unique()`, `validate_project_name()`

### Struktur
- **Logische Abschnitte**: Code ist in 11 thematische Bereiche gruppiert
- **Klare Trennung**: Konfiguration, UI, Logik und Installation getrennt
- **Bessere Lesbarkeit**: Einheitliche Namenskonventionen und Formatierung

### Dokumentation
- **README**: Umfassend mit Tabellen und Beispielen
- **CHANGELOG**: Semantic Versioning Format
- **Inline-Kommentare**: Jede Funktion ist dokumentiert

Siehe [CHANGELOG.md](CHANGELOG.md) fÃ¼r alle Ã„nderungen.

## Changelog

Siehe [CHANGELOG.md](CHANGELOG.md) fÃ¼r das vollstÃ¤ndige Ã„nderungsprotokoll.

## Mitwirken

BeitrÃ¤ge sind willkommen! Bitte:

1. Fork erstellen
2. Feature-Branch: `git checkout -b feature/neues-feature`
3. Commits: `git commit -am 'Neues Feature hinzugefÃ¼gt'`
4. Push: `git push origin feature/neues-feature`
5. Pull Request Ã¶ffnen

## Lizenz

Dieses Projekt steht unter der MIT-Lizenz.

## Danksagung

- [Laravel](https://laravel.com) - Das Web-Framework
- [Filament](https://filamentphp.com) - Das Admin-Panel
- [Pest](https://pestphp.com) - Das Testing-Framework
- Alle [Spatie](https://spatie.be) Packages

## Autor

**yezz.design** - design@schodie.de

---

<p align="center">
  Mit â¤ï¸ erstellt fÃ¼r die Laravel-Community
</p>
